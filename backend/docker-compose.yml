version: '3.3'

services:
  mongo:
    image: mongo:4.4
    environment:
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: root
    ports:
      - 27017:27017
    volumes:
     - ./mongo_data:/data/db
#     environment:
#       - MONGO_INITDB_ROOT_USERNAME=${MONGO_USER}
#       - MONGO_INITDB_ROOT_PASSWORD=${MONGO_PASSWORD}
#       - MONGO_DB=${MONGO_DB}
#     restart: always 
#   app:
#     build:
#       context: .
#       dockerfile: Dockerfile
#     container_name: app_container
#     ports:
#       - "8000:8000"
#     depends_on:
#       - mongo
#     environment:
#       - MONGO_INITDB_ROOT_USERNAME=${MONGO_USER}
#       - MONGO_INITDB_ROOT_PASSWORD=${MONGO_PASSWORD}
#       - MONGO_DB=${MONGO_DB}
#     env_file:
#       - .env
#     volumes:
#       - .:/app
#     restart: always  
 
#   watchtower:
#     image: containrrr/watchtower
#     container_name: watchtower
#     volumes:
#       - /var/run/docker.sock:/var/run/docker.sock
#     environment: 
#       - WATCHTOWER_CLEANUP=true
#       - WATCHTOWER_POLL_INTERVAL=60
#       - WATCHTOWER_INCLUDE_STOPPED=true
#       - WATCHTOWER_NO_STARTUP_MESSAGE=true
# volumes:
#   mongo_data:
#     driver: local
#     driver_opts:
#       type: none
#       o: bind
#       device: /Users/davinsonmontoyaramierez/Documents/SETI/backend/data/db